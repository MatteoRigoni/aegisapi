@using Microsoft.JSInterop
@inherits LayoutComponentBase
@inject IJSRuntime JS

<div class="top-row">
    <span class="title">Aegis Dashboard</span>
    <button @onclick="ToggleTheme" class="theme-btn">Toggle Theme</button>
</div>

<nav>
    <NavMenu />
</nav>

<main id="main">
    @Body
</main>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("theme.init");
        }
    }

    private async Task ToggleTheme() => await JS.InvokeVoidAsync("theme.toggle");
}
