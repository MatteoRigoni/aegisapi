@page "/network"
@inject INetworkService NetworkService
@inject IJSRuntime JS

<MudStack Direction="Column" Class="page-padding">
    <h3>Network Map</h3>
    <canvas id="networkCanvas" style="width:100%; height:500px;"></canvas>
</MudStack>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var graph = await NetworkService.GetNetworkAsync();
            await JS.InvokeVoidAsync("renderNetwork", graph);
        }
    }
}
