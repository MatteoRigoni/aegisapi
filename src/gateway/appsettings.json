{
  "Resilience": {
    "Timeout": {
      "DurationSeconds": 2
    },
    "Retry": {
      "Count": 2,
      "BaseDelayMs": 100
    },
    "CircuitBreaker": {
      "FailureThreshold": 5,
      "BreakDurationSeconds": 5
    }
  },
  "ReverseProxy": {
    "Routes": {
      "secure": {
        "Order": 0,
        "ClusterId": "backend",
        "Match": { "Path": "/api/secure/{**catch-all}" },
        "AuthorizationPolicy": "ApiReadOrKey",
        "Transforms": [
          { "PathRemovePrefix": "/api/secure" }, 
          { "RequestHeadersCopy": "true" },
          { "ResponseHeadersCopy": "true" }
        ]
      },
      "public": {
        "Order": 1,
        "ClusterId": "backend",
        "Match": { "Path": "/api/{**catch-all}" },
        "Transforms": [
          { "PathRemovePrefix": "/api" },
          { "RequestHeadersCopy": "true" },
          { "ResponseHeadersCopy": "true" }
        ]
      }
    },
    "Clusters": {
      "backend": {
        "LoadBalancingPolicy": "PowerOfTwoChoices",
        "SessionAffinity": { "AffinityKeyName": "gw_", "Enabled": false },
        "Destinations": {
          "d1": { "Address": "http://localhost:5005/" }
        }
      }
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
  ,
  "Auth": {
    "JwtKey": "6d9f8fd111802be56c379d597842e29b2cebd35ff2133d431a49fa556a18703d",
    "ApiKeyHash": "7e9f8fd111802be56c379d597842e29b2cebd35ff2133d431a49fa556a18704e"
  },
  "RateLimiting": {
    "DefaultRpm": 100,
    "Plans": {
      "gold": 1000
    }
  }
}
