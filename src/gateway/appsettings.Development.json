{
  "Resilience": {
    "Timeout": {
      "DurationSeconds": 5
    },
    "Retry": {
      "Count": 3,
      "BaseDelayMs": 200
    },
    "CircuitBreaker": {
      "FailureThreshold": 3,
      "BreakDurationSeconds": 10
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Auth": {
    "JwtKey": "6d9f8fd111802be56c379d597842e29b2cebd35ff2133d431a49fa556a18703d",
    "ApiKeyHash": "7e9f8fd111802be56c379d597842e29b2cebd35ff2133d431a49fa556a18704e"
  },
  "RateLimiting": {
    "DefaultRpm": 100,
    "Plans": {
      "gold": 1000
    }
  },
  "ReverseProxy": {
    "Routes": {
      "secure": {
        "Order": 0,
        "ClusterId": "backend",
        "Match": { "Path": "/api/secure/{**catchAll}" },
        "AuthorizationPolicy": "ApiReadOrKey",
        "Transforms": [
          { "PathRemovePrefix": "/api/secure" },
          { "RequestHeadersCopy": "true" },
          { "ResponseHeadersCopy": "true" }
        ]
      },
      "public": {
        "Order": 1,
        "ClusterId": "backend",
        "Match": { "Path": "/api/{**catchAll}" },
        "Transforms": [
          { "PathRemovePrefix": "/api" },
          { "RequestHeadersCopy": "true" },
          { "ResponseHeadersCopy": "true" }
        ]
      }
    },
    "Clusters": {
      "backend": {
        "LoadBalancingPolicy": "PowerOfTwoChoices",
        "SessionAffinity": {
          "AffinityKeyName": "gw_",
          "Enabled": false
        },
        "Destinations": {
          "d1": { "Address": "http://localhost:5005/" }
        }
      }
    }
  },
  "Waf": {
    "SqlInjection": true,
    "Xss": true,
    "PathTraversal": true,
    "Ssrf": true
  },
  "Summarizer": {
    "BaseUrl": "https://localhost:56038",
    "InternalKey": "dev"
  }
}
